<!DOCTYPE>
<html>
  <head>
    <title> Donut HQ  </title>
    <script src = "http://code.jquery.com/jquery-1.11.2.js"> </script>
  </head>
  <body>
    <header>
      <h1>
        <img src="http://www.thisthisthis.com/images/doughnut.gif" width = 4% />
        WELCOME TO DONUT HQ!
        <img src="http://www.thisthisthis.com/images/doughnut.gif" width = 4% />
      </h1>
      <img src="http://bw1.bilateralwarp.netdna-cdn.com/wp-content/uploads/2014/12/homer-simpson.jpg" width="25%" align = "right" />
    </header>
    <main>
      <section id="storeData">
        <input class="storeDataField" placeholder="Store Name" />
        <input class="storeDataField" placeholder="Hours Open" />
        <input class="storeDataField" placeholder="Minimum Passersby" />
        <input class="storeDataField" placeholder="Maximum Passersby" />
        <input class="storeDataField" placeholder="% of People Entering" />
        <input class="storeDataField" placeholder="Average Purchase" />
        <button id="addStore" > Add Store! </button>
      </section>
      <section id="storeList">
        <h2>List of Stores</h2>
      </section>
      <div>
        <h2>Daily Sales</h2>
        <button id="getResults" > Display Results </button>
        <section  id="storeResults">
        </section>
      </div>
    </main>
  </body>

  <script type="text/javascript">
    var locations = [];
    function TopPotStore(storeData) {
      this.storeName = storeData[0].value;
      this.hours = Number(storeData[1].value);
      this.footTrafficFloor = Number(storeData[2].value);
      this.footTrafficCeiling = Number(storeData[3].value);
      this.percentEnter = Number(storeData[4].value);
      this.averagePurchase = Number(storeData[5].value);
      this.dailySales = 0;
    };

    TopPotStore.prototype.dailySalesReport = function(){
      this.dailySales=0;
      for(i = 1; i <= this.hours; i++) {
        var hourlySales = Math.round((Math.random()*(this.footTrafficCeiling - this.footTrafficFloor) + this.footTrafficFloor) * this.percentEnter * this.averagePurchase);
        this.dailySales += hourlySales;
      }
      var report = "";
      report += this.storeName + " sold " + this.dailySales + " donuts today.";
      return report;
    };

  $(document).ready(function() {
    $('#getResults').on('click', function() {
      $('#storeResults>p').remove();
      for (var i=0; i<locations.length; i++) {
        $('#storeResults').append('<p>' +locations[i].dailySalesReport() + '</p>');
      };
    });
    $('#addStore').on('click', function() {
      locations.push(new TopPotStore($('.storeDataField')));
      $('#storeList').after('<li>' + $('.storeDataField').first().val() + '</li>');
      $('.storeDataField').val("");
    });
  });
  </script>
</html>
